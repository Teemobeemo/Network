{% extends "network/layout.html" %} {% block body %}

<div class="container">
    {% if user.is_authenticated %}

    <form action="/" method="post">
        {% csrf_token %}
        {% load widget_tweaks%}

        {% for field in form %}

        {% render_field field class+="input-box" %}

        {% endfor %}
        <button type="submit">Post!</button>
    </form>

    {% endif %}

    {% for post in posts %}
    <div class="card text-center custom-card mx-auto">
        <div class="card-body">
            <a href="/profile/?username={{post.creator}}">
                <h5 class="card-title">{{post.creator}}</h5>
            </a>
            <p class="card-text">{{post.content}}</p>
            <textarea hidden name="" id="{{post.id}}" cols="30" rows="10"></textarea>
            <p class="card-text">{{post.created_at}}</p>
            <p class="card-text">{{post.likes}}</p>
            <button onclick="handle({{post.id}})">edit</button>
        </div>
        </div>

        {% endfor %} {% if posts.has_other_pages %}
        <ul>
            {% if posts.has_previous %}
            <!-- Left -->
            <li>
                <a href="?page={{posts.previous_page_number}}">
                    << /a>
            </li>
            {% endif %} {% for i in posts.paginator.page_range %} {% if posts.number == i %}

            <li>
                <p>{{i}}</p>
            </li>

            {% else %}
            <li>
                <a href="?page={{i}}">{{i}}</a>
            </li>
            {% endif %} {% endfor %} {% if posts.has_next %}
            <li>
                <a href="?page={{posts.next_page_number}}">></a>
            </li>
            {% endif %}

        </ul>
        {% endif %}
    </div>
    {% endblock %}